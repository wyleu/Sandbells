
<!DOCTYPE html>

<html>

	<head>

		<meta charset="utf-8">
		<link rel="stylesheet" href="css/css.css"/>
		<script src="js/jquery.min.js"></script>
		<script src="js/sequence_js.js"></script>
		<title>Floyd's NanoSequencer</title>

	</head>

	<body>
		<div id="changelog"><a class="close" href="javascript:showchangelog();void(null)">X</a>
			<h1>FFS (Floyd's Fine Sequencer)</h1>
			<p><b>What is it?</b> This is a 16 step, 8 tracks, 8 pattern MIDI sequencer using WEBMIDI javascript. This should run on any device running Chromium Browsers (e.g. Android, Raspberry PI, Windows).</p>
			<p><b>Hardware needed</b> You'll need a MIDI controller with some buttons and knobs and some kind of external MIDI tone generator connected to your Smartphone, PC or Raspberry.</p>
			<p><b>How to use</b> Hold down a step key and turn the note pitch knob to "lock in" a note. You can also connect a MIDI keyboard and play a note while holding a step key. <br>
				Turning the "fill" knob will copy the currently played note to all the slots selected.<br>
				Turning the "note length" knob will adjust note length.<br>
				Turning the "velocity" knot will adjust velocity.<br>
				Holding the "copy" button while pressing a step button will copy the note you last worked on to that step.<br>
				Holding "copy" and pressing a track button will mute or unmute that track.<br>
				Pressing a "track select" button will create a new track and select it (or select the track existing in that slot)<br>
				Holding "pattern" and pressing a "track select" button will create a new pattern and select it (or select the pattern existing in that slot).<br>
				Repeating that step multiple times will queue patterns in your playback list.</p>
			<p><b>To Do:</b> Storing multiple notes to one slot, MIDI load and save.</p>
			<p><b>New functions</b> "Fill" function for creating 16th hihat notes quickly, Pattern queue display, transposing tracks</p>
		</div>
	<p class="setuplink"><a href="javascript:toggleMidiLearning();void(null)">MIDI LEARN</a> | <a href="javascript:showchangelog();void(null)">ABOUT</a></p>
	<form id="setup" class="gradient" method="post" enctype="multipart/form-data" name="setup" action="index.html">
		<h2>MIDI LEARN</h2>
		<p class="youre_new">You seem to be running this web app for the first time. Please turn and press all the buttons and knobs following the order of this list.</p>
		<p>Click one of these rows, then push or move the knob or button on your MIDI controller to assign that function to it.<br>Setup will be stored automatically.</p>
		<table>
			<thead>
				<tr><td>Command</td><td>Controller</td></tr>
			</thead>
			<tbody>
				<tr><td>Note pitch (knob)</td><td><input id="setup_notepitch" name="setup_notepitch" value="" type="text"></td></tr>
				<tr><td>Note length (knob)</td><td><input id="setup_notelength" name="setup_notelength" value="" type="text"></td></tr>
				<tr><td>Note fill (knob)</td><td><input id="setup_notefill" name="setup_notefill" value="" type="text"></td></tr>
				<tr><td>Velocity (knob)</td><td><input id="setup_velocity" name="setup_velocity" value="" type="text"></td></tr>
				<tr><td>Swing (knob)</td><td><input id="setup_swing" name="setup_swing" value="" type="text"></td></tr>
				<tr><td>Tempo (knob)</td><td><input id="setup_tempo" name="setup_tempo" value="" type="text"></td></tr>
				<tr><td>Play</td><td><input id="setup_play" name="setup_play" value="" type="text"></td></tr>
				<tr><td>Stop</td><td><input id="setup_stop" name="setup_stop" value="" type="text"></td></tr>
				<tr><td>Copy</td><td><input id="setup_copy" name="setup_copy" value="" type="text"></td></tr>
				<tr><td>Pattern</td><td><input id="setup_pattern" name="setup_pattern" value="" type="text"></td></tr>
				<tr><td>Clear</td><td><input id="setup_clear" name="setup_clear" value="" type="text"></td></tr>
				<tr><td>Step 1</td><td><input id="setup_step1" name="setup_step1" value="" type="text"></td></tr>
				<tr><td>Step 2</td><td><input id="setup_step2" name="setup_step2" value="" type="text"></td></tr>
				<tr><td>Step 3</td><td><input id="setup_step3" name="setup_step3" value="" type="text"></td></tr>
				<tr><td>Step 4</td><td><input id="setup_step4" name="setup_step4" value="" type="text"></td></tr>
				<tr><td>Step 5</td><td><input id="setup_step5" name="setup_step5" value="" type="text"></td></tr>
				<tr><td>Step 6</td><td><input id="setup_step6" name="setup_step6" value="" type="text"></td></tr>
				<tr><td>Step 7</td><td><input id="setup_step7" name="setup_step7" value="" type="text"></td></tr>
				<tr><td>Step 8</td><td><input id="setup_step8" name="setup_step8" value="" type="text"></td></tr>
				<tr><td>Step 9</td><td><input id="setup_step9" name="setup_step9" value="" type="text"></td></tr>
				<tr><td>Step 10</td><td><input id="setup_step10" name="setup_step10" value="" type="text"></td></tr>
				<tr><td>Step 11</td><td><input id="setup_step11" name="setup_step11" value="" type="text"></td></tr>
				<tr><td>Step 12</td><td><input id="setup_step12" name="setup_step12" value="" type="text"></td></tr>
				<tr><td>Step 13</td><td><input id="setup_step13" name="setup_step13" value="" type="text"></td></tr>
				<tr><td>Step 14</td><td><input id="setup_step14" name="setup_step14" value="" type="text"></td></tr>
				<tr><td>Step 15</td><td><input id="setup_step15" name="setup_step15" value="" type="text"></td></tr>
				<tr><td>Step 16</td><td><input id="setup_step16" name="setup_step16" value="" type="text"></td></tr>
				<tr><td>Track 1</td><td><input id="setup_track1" name="setup_track1" value="" type="text"></td></tr>
				<tr><td>Track 2</td><td><input id="setup_track2" name="setup_track2" value="" type="text"></td></tr>
				<tr><td>Track 3</td><td><input id="setup_track3" name="setup_track3" value="" type="text"></td></tr>
				<tr><td>Track 4</td><td><input id="setup_track4" name="setup_track4" value="" type="text"></td></tr>
				<tr><td>Track 5</td><td><input id="setup_track5" name="setup_track5" value="" type="text"></td></tr>
				<tr><td>Track 6</td><td><input id="setup_track6" name="setup_track6" value="" type="text"></td></tr>
				<tr><td>Track 7</td><td><input id="setup_track7" name="setup_track7" value="" type="text"></td></tr>
				<tr><td>Track 8</td><td><input id="setup_track8" name="setup_track8" value="" type="text"></td></tr>
			</tbody>
		</table>
	</form>
	
	<div id="transpose_info">+0</div>
	
	<div id="song">
	
		<div id="pattern0" class="pattern">
			<h1>Pattern 1</h1>
			<div id="track0" class="track" data-tracknumber="0">
				<div class="params gradient">
					<h2>Track 1</h2>
					<label for="bpm"><button id="bpm" class="bpm">120</button> BPM</label>
					<label for="swing"><button id="swing" class="swing">0</button>% Swing</label>
					<label for="inputdevice">Input Device: <select id="inputdevice"><option>Please choose</option></select></label>
					<label for="device">Output Device: <select id="device" class="device"><option>Please choose</option></select></label>
					<label for="channel">Output Channel: <select id="channel">
						<option value="0000">1</option>
						<option value="0001">2</option>
						<option value="0010">3</option>
						<option value="0011">4</option>
						<option value="0100">5</option>
						<option value="0101">6</option>
						<option value="0110">7</option>
						<option value="0111">8</option>
						<option value="1000">9</option>
						<option value="1001">10</option>
						<option value="1010">11</option>
						<option value="1011">12</option>
						<option value="1100">13</option>
						<option value="1101">14</option>
						<option value="1110">15</option>
						<option value="1111">16</option>
					</select></label>
				</div>
				<div class="main gradient">
					<ul class="grid">
						<li id="b01">01</li>
						<li id="b02">02</li>
						<li id="b03">03</li>
						<li id="b04">04</li>
						<li id="b05">05</li>
						<li id="b06">06</li>
						<li id="b07">07</li>
						<li id="b08">08</li>
						<li id="b09">09</li>
						<li id="b10">10</li>
						<li id="b11">11</li>
						<li id="b12">12</li>
						<li id="b13">13</li>
						<li id="b14">14</li>
						<li id="b15">15</li>
						<li id="b16">16</li>
					</ul>
					<p class="hint hint2">Playing next: <span class="queue"></span></p>
					<p class="hint"><i><b>step</b> + <b>pitch</b> lock note. <b>pattern</b> + <b>track</b> select pattern. <b>copy</b> + <b>step</b> copy last note entered to selected step. <b>copy</b> + <b>track</b> selector to mute a track. <b>copy</b> + <b>clear</b> to clear all tracks in this pattern.</i></p>
				</div>
			</div>
			
		</div>
	</div>
	
	</body>

</html>